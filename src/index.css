@import "tailwindcss";

/* ===== Theme Definitions ===== */

/* Dark Theme (Default) */
:root,
[data-theme="dark"] {
  --bg-primary: #21222c;
  --bg-secondary: #282a36;
  --bg-titlebar: #191a21;
  --bg-editor: #0d141c;
  --bg-gutter: #111a22;
  --bg-hover: #44475a;
  --bg-input: #282a36;
  
  --text-primary: #f8f8f2;
  --text-secondary: #6272a4;
  --text-muted: #44475a;
  
  --accent: #bd93f9;
  --accent-hover: rgba(189, 147, 249, 0.9);
  --accent-text: #282a36;
  
  --border: #44475a;
  --border-subtle: #233648;
  
  --code-bg: #21222c;
  --code-text: #ffb86c;
  --blockquote-bg: rgba(33, 34, 44, 0.5);
  
  --syntax-h1: #bd93f9;
  --syntax-h2: #ff79c6;
  --syntax-h3: #8be9fd;
  --syntax-link: #8be9fd;
  --syntax-bold: #ffb86c;
  --syntax-list: #ff79c6;
  --syntax-number: #ffb86c;
  --syntax-quote: #6272a4;
  --syntax-code: #6272a4;
  
  --status-saved: #50fa7b;
  --status-unsaved: #ffb86c;
  --danger: #ff5555;

  --scrollbar-track: #21222c;
  --scrollbar-thumb: #44475a;
  --scrollbar-hover: #6272a4;
  
  --selection-bg: #bd93f9;
  --selection-text: #282a36;
}

/* Light Theme */
[data-theme="light"] {
  --bg-primary: #ffffff;
  --bg-secondary: #f8f9fa;
  --bg-titlebar: #e9ecef;
  --bg-editor: #ffffff;
  --bg-gutter: #f1f3f5;
  --bg-hover: #e9ecef;
  --bg-input: #f8f9fa;
  
  --text-primary: #1a1a2e;
  --text-secondary: #6c757d;
  --text-muted: #adb5bd;
  
  --accent: #6366f1;
  --accent-hover: rgba(99, 102, 241, 0.9);
  --accent-text: #ffffff;
  
  --border: #dee2e6;
  --border-subtle: #e9ecef;
  
  --code-bg: #f1f3f5;
  --code-text: #d63384;
  --blockquote-bg: rgba(248, 249, 250, 0.8);
  
  --syntax-h1: #6366f1;
  --syntax-h2: #8b5cf6;
  --syntax-h3: #0891b2;
  --syntax-link: #0891b2;
  --syntax-bold: #c2410c;
  --syntax-list: #8b5cf6;
  --syntax-number: #c2410c;
  --syntax-quote: #6c757d;
  --syntax-code: #6c757d;
  
  --status-saved: #22c55e;
  --status-unsaved: #f59e0b;
  --danger: #ef4444;

  --scrollbar-track: #f8f9fa;
  --scrollbar-thumb: #ced4da;
  --scrollbar-hover: #adb5bd;
  
  --selection-bg: #6366f1;
  --selection-text: #ffffff;
}

/* Paper Theme */
[data-theme="paper"] {
  --bg-primary: #f5f0e6;
  --bg-secondary: #ebe5d8;
  --bg-titlebar: #e0d9cc;
  --bg-editor: #faf8f3;
  --bg-gutter: #ebe5d8;
  --bg-hover: #ddd6c6;
  --bg-input: #ebe5d8;
  
  --text-primary: #3d3d3d;
  --text-secondary: #6b6352;
  --text-muted: #9a8f7a;
  
  --accent: #8b7355;
  --accent-hover: rgba(139, 115, 85, 0.9);
  --accent-text: #faf8f3;
  
  --border: #d4cfc2;
  --border-subtle: #e0d9cc;
  
  --code-bg: #ebe5d8;
  --code-text: #8b5a2b;
  --blockquote-bg: rgba(235, 229, 216, 0.6);
  
  --syntax-h1: #5c4033;
  --syntax-h2: #6b4423;
  --syntax-h3: #4a5568;
  --syntax-link: #2d5a7b;
  --syntax-bold: #8b4513;
  --syntax-list: #6b4423;
  --syntax-number: #8b4513;
  --syntax-quote: #6b6352;
  --syntax-code: #6b6352;
  
  --status-saved: #5a7d5a;
  --status-unsaved: #b8860b;
  --danger: #cd5c5c;

  --scrollbar-track: #ebe5d8;
  --scrollbar-thumb: #c9c0ae;
  --scrollbar-hover: #a69d8d;
  
  --selection-bg: #8b7355;
  --selection-text: #faf8f3;
}

/* ===== Font Family Variables ===== */
[data-font="inter"] {
  --font-body: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

[data-font="merriweather"] {
  --font-body: 'Merriweather', Georgia, 'Times New Roman', serif;
}

[data-font="lora"] {
  --font-body: 'Lora', Georgia, 'Times New Roman', serif;
}

[data-font="source-serif"] {
  --font-body: 'Source Serif 4', Georgia, 'Times New Roman', serif;
}

[data-font="fira-sans"] {
  --font-body: 'Fira Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

/* Default font */
:root {
  --font-body: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

/* ===== Base Styles ===== */
html, body, #root {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
}

body {
  font-family: var(--font-body);
  background-color: var(--bg-primary);
  color: var(--text-primary);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* ===== Desktop App Styles ===== */
.no-select {
  user-select: none;
  -webkit-user-select: none;
}

.drag-region {
  -webkit-app-region: drag;
  app-region: drag;
}

.no-drag {
  -webkit-app-region: no-drag;
  app-region: no-drag;
}

/* ===== Custom Scrollbar ===== */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 5px;
  border: 2px solid var(--scrollbar-track);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-hover);
}

/* ===== Selection ===== */
::selection {
  background: var(--selection-bg);
  color: var(--selection-text);
}

/* ===== Material Icons ===== */
.material-symbols-outlined {
  font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
  vertical-align: middle;
}

/* ===== Editor / Code Font ===== */
.font-mono {
  font-family: 'JetBrains Mono', ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, 'Liberation Mono', monospace;
}

/* ===== Blinking Cursor Animation ===== */
@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

.blinking-cursor {
  animation: blink 1s step-end infinite;
}

/* ===== Markdown Preview Styles ===== */
.markdown-body {
  line-height: 1.7;
  font-family: var(--font-body);
}

.markdown-body h1 {
  font-size: 2.25em;
  font-weight: 800;
  padding-bottom: 0.3em;
  border-bottom: 1px solid var(--border);
  color: var(--syntax-h1);
  margin-bottom: 1rem;
}

.markdown-body h2 {
  font-size: 1.75em;
  font-weight: 700;
  padding-bottom: 0.3em;
  border-bottom: 1px solid var(--border);
  color: var(--text-primary);
  margin-top: 2rem;
  margin-bottom: 1rem;
}

.markdown-body h3 {
  font-size: 1.25em;
  font-weight: 600;
  color: var(--text-primary);
  margin-top: 1.5rem;
  margin-bottom: 0.5rem;
}

.markdown-body p {
  margin-bottom: 1rem;
}

.markdown-body a {
  color: var(--syntax-link);
  text-decoration: none;
}

.markdown-body a:hover {
  text-decoration: underline;
}

.markdown-body code {
  background: var(--code-bg);
  border: 1px solid var(--border);
  border-radius: 0.25rem;
  padding: 0.1em 0.3em;
  font-size: 0.875em;
  color: var(--code-text);
}

.markdown-body pre {
  background: var(--code-bg);
  border: 1px solid var(--border);
  border-radius: 0.375rem;
  padding: 1rem;
  overflow-x: auto;
  margin: 1rem 0;
}

.markdown-body pre code {
  background: none;
  border: none;
  padding: 0;
  color: var(--text-primary);
}

.markdown-body ul, .markdown-body ol {
  padding-left: 1.5rem;
  margin-bottom: 1rem;
}

.markdown-body li {
  margin-bottom: 0.25rem;
}

.markdown-body blockquote {
  border-left: 4px solid var(--accent);
  background: var(--blockquote-bg);
  padding: 0.5rem 1rem;
  margin: 1rem 0;
  font-style: italic;
  color: var(--text-secondary);
  border-radius: 0 0.25rem 0.25rem 0;
}

.markdown-body strong {
  font-weight: 600;
  color: var(--syntax-bold);
}

.markdown-body table {
  width: 100%;
  border-collapse: collapse;
  margin: 1rem 0;
}

.markdown-body th, .markdown-body td {
  border: 1px solid var(--border);
  padding: 0.5rem;
  text-align: left;
}

.markdown-body th {
  background: var(--bg-secondary);
  font-weight: 600;
}

/* ===== Syntax Highlighting (code blocks) ===== */
.hljs {
  background: transparent;
  color: var(--text-primary);
}

.hljs-keyword { color: var(--syntax-h2); }
.hljs-string { color: var(--syntax-bold); }
.hljs-number { color: var(--syntax-h1); }
.hljs-function { color: var(--status-saved); }
.hljs-comment { color: var(--text-secondary); font-style: italic; }
.hljs-title { color: var(--status-saved); }
.hljs-params { color: var(--syntax-number); }
.hljs-built_in { color: var(--syntax-link); }
.hljs-attr { color: var(--status-saved); }
.hljs-literal { color: var(--syntax-h1); }
